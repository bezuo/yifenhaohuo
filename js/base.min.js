function dialogTip1(t,e,n){var a="<div class='mask-box'><div class='dialog'><div class='dialog-show'><div class='dialog-Content'><p class='dialog-text'>"+t+"</p></div><div class='dialog-btn'><button class='btn-ok'>"+e+"</button><button class='btn-cancel'>"+n+"</button></div></div></div></div>";return a}function dialogTip2(t){var e="<div class='mask-box'><div class='dialog'><div class='dialog-show'><div class='dialog-Content'><p class='dialog-text'>"+t+"</p></div></div></div></div>";return e}function maskHide(){$(".mask-box").css("display","none"),$(".anmite-show").addClass("anmite-hide")}function addDOM(){var t=$(".mask-box");0!=t.length?($("body").find(".mask-box").show(),0!=$("#add-address").length?$("#add-address").removeClass("anmite-hide"):cityAjax()):($("body").append("<section class='mask-box'></section>"),cityAjax(),$(".mask-box").get(0).addEventListener("tap",maskHide,!1))}function cityAjax(){$.ajax({type:"GET",url:"../json/city.json",dataType:"json",success:function(t){for(var e="<option>选择省份</option>",n=0,a=t.data.length;a>n;n++)e+="<option value="+t.data[n].name+">"+t.data[n].name+"</option>";addAddress(e,t)},error:function(){alert("Ajax error!")}})}function addAddress(t,e){var n="<section class='addressBox anmite-show' id='add-address'><div class='address'><h3>添加收货地址</h3><div class='addressForm'><ul><li><label>收货人</label><span class='ipt-text'><input type='text' placeholder='姓名' /></span></li><li><label>联系电话</label><span class='ipt-text'><input type='tel' placeholder='手机或固话' /></span></li><li><label>收货地点</label><span class='ipt-text citySelect'><select class='select1'>"+t+"</select><select class='select2'></select><select class='select3'></select></span></li><li><label>详细地点</label><span class='ipt-text'><input type='text' placeholder='街道门派信息' /></span></li><li><label>邮政编码</label><span class='ipt-text'><input type='number' class='ipt-text' placeholder='邮政编码(选填）' /></span></li></ul></div></div><button class='btn-next' id='addNext'>下一步</button></section>";$("body").append(n),object=e,$("#addNext").get(0).addEventListener("click",addNext,!1),$(".select1").get(0).addEventListener("change",citySelect,!1),$(".select2").get(0).addEventListener("change",countySelect,!1),$("select").each(function(){$(this).get(0).addEventListener("change",textColor,!1)})}function citySelect(){var t=$(this),e=t.get(0).selectedIndex-1;if(e>=0){for(var n="<option>选择城市</option>",a=0;a<object.data[e].child.length;a++)n+="<option value="+object.data[e].child[a].name+">"+object.data[e].child[a].name+"</option>";t.next("select").html(n),$(".select3").html(""),county=object.data[e].child}else t.siblings("select").html("")}function countySelect(){var t=$(this),e=t.get(0).selectedIndex-1;if(e>=0)for(var n="<option>选择地区/县</option>",a=0;a<county[e].child.length;a++)n+="<option value="+county[e].child[a].name+">"+county[e].child[a].name+"</option>";t.next("select").html(n)}function textColor(){$(this).get(0).selectedIndex>0?$(this).css("color","#222"):$(this).css("color","#999"),0!=$(this).next().length?$(this).next().css("color","#999"):!1}function selected(){var t,e,n,a=$(this);t=nodeText(a,".phone"),e=nodeText(a,".receiver"),n=nodeText(a,".order-address"),a.siblings().find(".confirm").attr("class","confirm icons-confirm"),a.find(".confirm").attr("class","confirm icons-confirm-active"),$("#phone").text(t),$("#receiver").text(e),$("#address").text(n),transitions()}function nodeText(t,e){return t.find(e).text()}function transitions(){$(".pageAddress").removeClass("addressShow"),$(".pageOrder").removeClass("orderHide")}!function(t){"use strict";t.fn.lazyImgLoad=function(e){var n=t(this);e=e||{};var a=function(){var t=e.backgroundImg;t&&n.parent().css({backgroundImage:"url("+t+")",backgroundSize:"cover"})};a();var i=function(n){var a,i=t(window).height(),o=t(window).scrollTop(),s=e.distance?e.distance:0;return a=s?i+o+s:i+o,a>=n.offset().top?!0:!1},o=function(e){var n=t(window).scrollTop();return n<=e.offset().top+e.height()?!0:!1},s=function(t){return i(t)&&o(t)?!0:!1},d=function(){n.each(function(){var e=this;if(""==e.src&&s(t(e))){var n=t(e).attr("data-url"),a=t(e).attr("data-alt");t(e).attr({src:n,alt:a}).removeAttr("data-url").removeAttr("data-alt")}})};window.addEventListener("load",d,!1),window.addEventListener("scroll",d,!1)},t.fn.dialog=function(e){var n,a,i,o,s=t(this);a="object"==typeof e?e.text:e,o="undefined"!=e.btnOK?e.btnOK:!1,i="undefined"!=e.btnCancel?e.btnCancel:!1;var d=function(){n=o?dialogTip1(a,o,i):dialogTip2(a),t("body").append(n),t(document).on("click",".btn-cancel",function(){t(".mask-box").remove()})};0!=s.length?s.get(0).addEventListener("click",d,!1):!1},t.fn.hideElement=function(e){var n,a,i,o,s=t(this),d=location.href;n="string"==typeof e?e:e.strKey;var c=function(){return s.hide(),i=e.direction||null,o=i?"padding-"+i:!1,(a=e.element||null)?void t(a).css(o,0):!1};d.indexOf(n)>-1?c():!1}}(Zepto);var error=function(t){var e,n="object"==typeof t?t.text:t,a="ok"in t?t.ok:!1,i="cancel"in t?t.cancel:!1;e=a?dialogTip1(n,a,i):dialogTip2(n),$("body").append(e),$(document).on("click",".btn-cancel",function(){$(".mask-box").remove()})};$(document).on("tap","[data-href]",function(){var t=$(this).attr("data-href");location.href=t,event.stopPropagation()});var object={},county={};$(".add-address").on("click",function(){addDOM()}),$("#pageBack").on("click",function(){transitions()}),$(".addressPage .addressItem").each(function(){$(this).get(0).addEventListener("click",selected,!1)}),$(".orderAddress").on("click",function(){$(".pageAddress").addClass("addressShow"),$(".pageOrder").addClass("orderHide")}),function(t,e){var n=t.documentElement,a="orientationchange"in window?"orientationchange":"resize",i=function(){var t=n.clientWidth;t&&(n.style.fontSize=t/37.5+"px")};t.addEventListener&&(e.addEventListener(a,i,!1),t.addEventListener("DOMContentLoaded",i,!1))}(document,window);